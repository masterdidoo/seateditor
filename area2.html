<!DOCTYPE html>
<html>
<head>
    <meta content="text/html" charset="utf-8">
    <link rel="stylesheet" href="css/bootstrap.css" media="screen">
    <!--<link rel="stylesheet" href="css/bootstrap-responsive.css">-->
    <link rel="stylesheet" href="js/themes/base/jquery-ui.css"/>
    <link rel="stylesheet" href="css/app.css">

    <script type="text/javascript" src="js/jquery-1.8.3.js"></script>

    <script src="js/ui/jquery.ui.core.js"></script>
    <script src="js/ui/jquery.ui.widget.js"></script>
    <script src="js/ui/jquery.ui.mouse.js"></script>
    <script src="js/ui/jquery.ui.draggable.js"></script>
    <script src="js/ui/jquery.ui.resizable.js"></script>
    <script src="js/ui/jquery.ui.rotatable.js"></script>

    <!--<script src="http://maps.googleapis.com/maps/api/js?libraries=geometry&sensor=false"></script>-->
    <!--<script src="js/OpenLayers.debug.js"></script>-->
    <!--<script src="js/spatial_query.js"></script>-->
    <script src="js/clipper_unminified.js"></script>

    <style id="style">
    </style>

    <script type="text/javascript" src="js/editors/editor-sector.js"></script>
    <script type="text/javascript" src="js/editors/editor-area.js"></script>
    <script type="text/javascript">
        var test = {"id": 1, "name": "Большой зал", "top": 10263, "left": 10216, "height": 20, "width": 110, "sectors": [
            {"name": "Сектор 1", "top": 10329, "left": 10270, "rotate": 0, "placeRows": [
                {"name": "1", "places": [
                    {"name": 1, "pos": 1},
                    {"name": 2, "pos": 2},
                    {"name": 3, "pos": 3},
                    {"name": 4, "pos": 4},
                    {"name": 5, "pos": 5},
                    {"name": 6, "pos": 6},
                    {"name": 7, "pos": 7},
                    {"name": 8, "pos": 8}
                ], "pos": 1},
                {"name": "2", "places": [
                    {"name": 1, "pos": 1},
                    {"name": 2, "pos": 2},
                    {"name": 3, "pos": 3},
                    {"name": 4, "pos": 4},
                    {"name": 5, "pos": 5},
                    {"name": 6, "pos": 6},
                    {"name": 7, "pos": 7},
                    {"name": 8, "pos": 8}
                ], "pos": 2},
                {"name": "3", "places": [
                    {"name": 1, "pos": 1},
                    {"name": 2, "pos": 2},
                    {"name": 3, "pos": 3},
                    {"name": 4, "pos": 4},
                    {"name": 5, "pos": 5},
                    {"name": 6, "pos": 6},
                    {"name": 7, "pos": 7},
                    {"name": 8, "pos": 8}
                ], "pos": 3},
                {"name": "4", "places": [
                    {"name": 1, "pos": 1},
                    {"name": 2, "pos": 2},
                    {"name": 3, "pos": 3},
                    {"name": 4, "pos": 4},
                    {"name": 5, "pos": 5},
                    {"name": 6, "pos": 6},
                    {"name": 7, "pos": 7},
                    {"name": 8, "pos": 8}
                ], "pos": 4}
            ]},
            {"name": "Сектор 2", "top": 10364, "left": 10270, "rotate": 0, "placeRows": [
                {"name": "1", "places": [
                    {"name": "1", "pos": 0},
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2},
                    {"name": "4", "pos": 3}
                ], "pos": 0},
                {"name": "2", "places": [
                    {"name": "1", "pos": 0},
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2},
                    {"name": "4", "pos": 3}
                ], "pos": 1}
            ]},
            {"name": "Сектор 3", "top": 10292, "left": 10357, "rotate": -30, "placeRows": [
                {"name": "1", "places": [
                    {"name": "1", "pos": 0},
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2},
                    {"name": "4", "pos": 3}
                ], "pos": 0},
                {"name": "2", "shift": -1, "places": [
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2},
                    {"name": "4", "pos": 3}
                ], "pos": 1}
            ]},
            {"name": "Сектор 4", "top": 10292, "left": 10185, "rotate": 30, "placeRows": [
                {"name": "1", "places": [
                    {"name": "1", "pos": 0},
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2},
                    {"name": "4", "pos": 3}
                ], "pos": 0},
                {"name": "2", "shift": 1, "places": [
                    {"name": "1", "pos": 0},
                    {"name": "2", "pos": 1},
                    {"name": "3", "pos": 2}
                ], "pos": 1}
            ]},
            {"name": "Квадрат 1", "top": 10339, "left": 10270, "rotate": 0, "placeRows": [
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 2, "pos": 1},
                    {"name": 3, "pos": 2},
                    {"name": 4, "pos": 3},
                    {"name": 5, "pos": 4},
                    {"name": 6, "pos": 5},
                    {"name": 7, "pos": 6},
                    {"name": 8, "pos": 7},
                    {"name": 9, "pos": 8},
                    {"name": 10, "pos": 9},
                    {"name": 11, "pos": 10}
                ], "pos": 0},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 1},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 2},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 3},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 4},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 5},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 6},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 11, "pos": 10}
                ], "pos": 7},
                {"name": null, "places": [
                    {"name": 1, "pos": 0},
                    {"name": 2, "pos": 1},
                    {"name": 3, "pos": 2},
                    {"name": 4, "pos": 3},
                    {"name": 5, "pos": 4},
                    {"name": 6, "pos": 5},
                    {"name": 7, "pos": 6},
                    {"name": 8, "pos": 7},
                    {"name": 9, "pos": 8},
                    {"name": 10, "pos": 9},
                    {"name": 11, "pos": 10}
                ], "pos": 8}
            ]}
        ]};
        $(function () {
                    App.sectorEditor.init($("#editor-sector"));
                    App.areaEditor.init($("#ae-editor-area"));
                    App.areaEditor.load(test);
                }
        );
    </script>
    <script>
        function myFunction() {
            $.ajax({
                type: 'POST',
                dataType: 'json',
                data: JSON.stringify(test),
                contentType: "application/json; charset=utf-8",
                url: '/spring/json/area',
                success: function (data) {
                    alert(data);
                }
            });
        }
    </script>
</head>
<body>

<div class="navbar">
    <div class="navbar-inner">
        <a class="brand" href="./">АРМ Управления</a>
        <ul class="nav">
            <li>
                <a href="#">Площадки</a>
            </li>
        </ul>
    </div>
</div>

<div class="container-fluid">

    <div class="row-fluid">
        <div class="editor-area" id="ae-editor-area">
            <div class="row-fluid">
                <div class="span2">
                    <div class="btn-group">
                        <button class="btn" id="ae-zoom-in"><i class="icon-zoom-in"></i></button>
                        <button class="btn" id="ae-zoom-0"><i class="icon-resize-horizontal"></i></button>
                        <button class="btn" id="ae-zoom-out"><i class="icon-zoom-out"></i></button>
                    </div>
                    <label class="checkbox" title="Включить/выключить отображение названия секторов на схеме">
                        <input id="ae-show-sector-title" type="checkbox" checked> Названия секторов
                    </label>

                    <label>
                        Название схемы площадки:
                        <input id="ae-name-form" type="text" class="input-large">
                    </label>
                    <label>
                        Сектора:
                        <div calss="nav-bar-inner">
                            <ul id="ae-sectors-list" class="nav nav-list">
                            </ul>
                        </div>
                    </label>
                    <label>
                        <button id="ae-add-sector" type="submit" class="btn" title="Добавить новый сектор">
                            <i class="icon-plus"></i> Добавить сектор
                        </button>
                    </label>
                    <label>
                        <button id="ae-area-save" type="submit" class="btn btn-primary"
                                title="Сохранить схему площадки">
                            <i class="icon-white icon-ok"></i> Сохранить
                        </button>
                    </label>
                </div>

                <div id="ae-area-view" class="span10">
                    <div id="ae-area-view-scroller"
                         style="border: 1px #000 solid; overflow: scroll; width: 100%; height: 100%; position: relative">
                        <div id="ae-sectors-holder"
                             style="position: relative; height: 100%; width: 100%">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12 editor-sector" id="editor-sector" style="display: none">
        </div>
    </div>

    <div class="row-fluid" id="svg">
    </div>
    <div class="row-fluid" id="svgarea">
    </div>

    <div class="row-fluid" id="ae-rez">
    </div>

</div>
</body>
</html>
