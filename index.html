<!DOCTYPE html>
<html>
<head>
    <meta content="text/html" charset="utf-8">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/bootstrap.css" media="screen">
    <!--<link rel="stylesheet" href="css/bootstrap-responsive.css">-->
    <link rel="stylesheet" href="js/themes/base/jquery-ui.css"/>

    <script type="text/javascript" src="js/jquery-1.8.3.js"></script>

    <script src="js/ui/jquery.ui.core.js"></script>
    <script src="js/ui/jquery.ui.widget.js"></script>
    <script src="js/ui/jquery.ui.mouse.js"></script>
    <script src="js/ui/jquery.ui.draggable.js"></script>
    <script src="js/ui/jquery.ui.resizable.js"></script>
    <script src="js/ui/jquery.ui.rotatable.js"></script>

    <style>

    </style>

    <script type="text/javascript" src="js/editors/editor-sector.js"></script>
    <script type="text/javascript">
        var test = {
            name: "Большой зал",
            "sectors": [
                {"name": "Сектор 1", "top": 60, "left": 380, "rows": [
                    {"name": "1", "places": [
                        {"name": 1, "pos": 1},
                        {"name": 2, "pos": 2},
                        {"name": 3, "pos": 3},
                        {"name": 4, "pos": 4},
                        {"name": 5, "pos": 5},
                        {"name": 6, "pos": 6},
                        {"name": 7, "pos": 7},
                        {"name": 8, "pos": 8}
                    ], "pos": 1},
                    {"name": "2", "places": [
                        {"name": 1, "pos": 1},
                        {"name": 2, "pos": 2},
                        {"name": 3, "pos": 3},
                        {"name": 4, "pos": 4},
                        {"name": 5, "pos": 5},
                        {"name": 6, "pos": 6},
                        {"name": 7, "pos": 7},
                        {"name": 8, "pos": 8}
                    ], "pos": 2},
                    {"name": "3", "places": [
                        {"name": 1, "pos": 1},
                        {"name": 2, "pos": 2},
                        {"name": 3, "pos": 3},
                        {"name": 4, "pos": 4},
                        {"name": 5, "pos": 5},
                        {"name": 6, "pos": 6},
                        {"name": 7, "pos": 7},
                        {"name": 8, "pos": 8}
                    ], "pos": 3},
                    {"name": "4", "places": [
                        {"name": 1, "pos": 1},
                        {"name": 2, "pos": 2},
                        {"name": 3, "pos": 3},
                        {"name": 4, "pos": 4},
                        {"name": 5, "pos": 5},
                        {"name": 6, "pos": 6},
                        {"name": 7, "pos": 7},
                        {"name": 8, "pos": 8}
                    ], "pos": 4}
                ]},
                {"name": "Сектор 2", "top": 25, "left": 400, "rows": [
                    {"name": "1", "places": [
                        {"name": "1", "pos": 0},
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2},
                        {"name": "4", "pos": 3}
                    ], "pos": 0},
                    {"name": "2", "places": [
                        {"name": "1", "pos": 0},
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2},
                        {"name": "4", "pos": 3}
                    ], "pos": 1}
                ]},
                {"name": "Сектор 3", "rotate": -30, "top": 75, "left": 330, "rows": [
                    {"name": "1", "places": [
                        {"name": "1", "pos": 0},
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2},
                        {"name": "4", "pos": 3}
                    ], "pos": 0},
                    {"name": "2", "shift": -1, "places": [
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2},
                        {"name": "4", "pos": 3}
                    ], "pos": 1}
                ]},
                {"name": "Сектор 4", "rotate": 30, "top": 75, "left": 470, "rows": [
                    {"name": "1", "places": [
                        {"name": "1", "pos": 0},
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2},
                        {"name": "4", "pos": 3}
                    ], "pos": 0},
                    {"name": "2", "shift": 1, "places": [
                        {"name": "1", "pos": 0},
                        {"name": "2", "pos": 1},
                        {"name": "3", "pos": 2}
                    ], "pos": 1}
                ]}
            ]
        };
        $(function () {
                    App.sectorEditor.init($("#editor-sector"));
                    App.areaEditor.init($("#editor-area"));
                    App.areaEditor.load(test);
                }
        );
    </script>
</head>
<body>

<div class="navbar">
    <div class="navbar-inner">
        <a class="brand" href="./">АРМ Управления</a>
        <ul class="nav">
            <li>
                <a href="#">Площадки</a>
            </li>
        </ul>
    </div>
</div>

<div class="container-fluid">

    <div class="row-fluid">
        <div class="editor-area" id="editor-area">
            <div class="row-fluid">
                <div class="span10 offset1" style="padding-bottom: 10px">
                    <label class="form-inline">
                        Название площадки:
                        <input id="name-form" type="text" class="input-xxlarge">
                    </label>

                    <div calss="nav-bar-inner">
                        <ul id="sectors-list" class="nav nav-list">
                        </ul>
                    </div>
                    <button id="add-sector" type="submit" class="btn" title="Добавить новый сектор">
                        <i class="icon-plus"></i> Добавить сектор
                    </button>
                </div>
            </div>
            <div class="row-fluid">
                <div id="area-view">
                    <div id="sectors-holder"
                         style="border: 1px #000 solid; overflow: scroll; height: 100%; width: 100%">
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span10 offset1" style="padding-top: 10px">
                    <button id="area-save" type="submit" class="btn btn-primary" title="Сохранить схему площадки">
                        <i class="icon-white icon-ok"></i> Сохранить
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12 editor-sector" id="editor-sector" style="display: none">
        </div>
    </div>

    <div class="row-fluid">
        <div class="span12" id="rez">
        </div>
    </div>

</div>

</body>
</html>
